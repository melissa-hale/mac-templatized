volume:
  - table: {{ monitor_config.project }}:{{ monitor_config.schema }}.{{ monitor_config.table }}  # required
    {%- if monitor_config.name -%}
    name: {{ monitor_config.name }} # optional -- by default it will be autogenerated
    {% endif %}
    comparisons: {{ monitor_config.comparisons }}  # required
    volume_metric: {{ monitor_config.volume_metric | default("row_count") }}  # row_count by default
    description: {{ monitor_config.description }}
    schedule:
      type: fixed  # must be fixed
      start_time: {{ monitor_config.schedule.start_time | default(now()) }}
      interval_minutes: {{ monitor_config.schedule.interval_minutes | default(60) }}
      {%- if monitor_config.schedule.interval_crontab -%}
      interval_crontab: 
      {% for interval_crontab in monitor_config.schedule.interval_crontab %}
        - {{ interval_crontab }}
      {% endfor %} 
      {% endif %}
      {%- if monitor_config.schedule.timezone -%}
      timezone: {{ monitor_config.schedule.timezone }} # optional - select regional timezone for daylight savings ex. America/Los_Angeles
      {% endif %}
      # event_rollup_count: <integer> # optional - enable to only send notifications every X incidents
      # event_rollup_until_changed: <boolean> # optional - enable to send subsequent notifications if breach changes
    {%- if monitor_config.labels -%}
    labels:
    {% for label in monitor_config.labels %}
      - {{ label }}
    {% endfor %}
    {% endif %}
    severity: {{ monitor_config.severity }} 